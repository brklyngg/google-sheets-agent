const CONFIG = {
  QUICKBOOKS_API_BASE: 'https://quickbooks.api.intuit.com/v3/company',   
SCOPES: ['https://www.googleapis.com/auth/spreadsheets', 'com.intuit.quickbooks.accounting']
};

function onOpen() {
  SpreadsheetApp.getUi()
    .createMenu('AI Agent')
    .addItem('Analyze Workbook', 'analyzeWorkbook')
    .addItem('Chat Interface', 'showChatSidebar')
    .addItem('Connect QuickBooks', 'setupQuickBooks')
    .addToUi();
}

function analyzeWorkbook() {
  const ss = SpreadsheetApp.getActive();
  const sheets = ss.getSheets();
  let analysis = {
    sheetCount: sheets.length,
    sheets: {}
  };

  sheets.forEach(sheet => {
    analysis.sheets[sheet.getName()] = analyzeSheet(sheet);
  });
  return analysis;
}

function analyzeSheet(sheet) {
  const range = sheet.getDataRange();
  const values = range.getValues();
  const formulas = range.getFormulas();
  return {
    type: detectSheetType(values),
    rowCount: values.length,
    colCount: values[0].length,
    dependencies: analyzeDependencies(formulas),
    summary: generateSheetSummary(values)
  };
}
